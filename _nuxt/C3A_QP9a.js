import{y as k,q as B,C as p,r as C,ar as N,U as g,c as h,d as c,g as t,f as u,t as m,P as l,w as v,F as $,a6 as D,N as E,as as L,z as q}from"./BR6SR3FR.js";import{_ as U}from"./DeDN74ck.js";import{_ as V}from"./C3C6TZkN.js";import{u as F,r as I}from"./CJKxI45N.js";import{q as M}from"./qsoZBkqp.js";import{u as R}from"./BqhfHBgE.js";import"./DgMey6cc.js";const S={class:"text-center font-bold"},j={class:"flex flex-col sm:flex-row gap-4"},z={class:"flex self-center sm:self-start justify-center items-center w-full max-w-40 sm:min-w-40 sm:max-w-1/3"},A={class:"font-bold mb-2"},K={class:"line-clamp-5 overflow-hidden text-sm"},X=k({__name:"index",setup(P){const x=B(),s=p(()=>{const e=x.query.tag;return typeof e=="string"?[e]:e}),a=C([]),{data:r}=F("blog-posts-list",()=>{const e=M("blog");return e.order("date","DESC"),e.select("title","path","description","tags"),s.value&&e.andWhere(o=>{for(const i of s.value)o=o.where("tags","LIKE",`%"${i}"%`);return o}),e.skip(a.value.length).limit(1),e.all()}),d=N("list"),f=R(d),_=async()=>{for(;f.value&&(await I("blog-posts-list"),r.value&&r.value.length>0);)a.value.push(...r.value)};return g(f,_),g(s,async()=>{a.value=[],await _()}),(e,o)=>{const i=L,w=q,y=U,b=V;return c(),h("div",null,[t("h1",S,m(("computed"in e?e.computed:l(p))(()=>l(s)?.includes("dev")?e.$t("devBlog"):l(s)?.includes("game")?e.$t("gameBlog"):e.$t("blog"))),1),u(b,null,{default:v(()=>[t("div",{ref_key:"list",ref:d,class:"flex flex-col gap-4"},[(c(!0),h($,null,D(l(a),n=>(c(),E(y,{key:n.path,class:"relative hover:bg-elevated"},{default:v(()=>[u(i,{to:n.path,class:"absolute inset-0"},null,8,["to"]),t("div",j,[t("div",z,[u(w,{src:"/favicon.png"})]),t("div",null,[t("h2",A,m(n.title),1),t("p",K,m(n.description),1)])])]),_:2},1024))),128))],512)]),_:1})])}}});export{X as default};
