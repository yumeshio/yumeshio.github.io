import{y as C,q as D,a as E,D as g,r as N,as as q,E as h,c as v,g as a,f as c,t as u,U as l,w as y,d as m,F as L,J as U,G as R,at as V,z as F}from"./7_y3DsH5.js";import{_ as I}from"./DiSBPJ6v.js";import{_ as M}from"./DvXJoKbX.js";import{u as S,r as z}from"./BkYcj4W3.js";import{q as A}from"./Cc4MpuCP.js";import{u as G}from"./CS0x9_F4.js";import"./McUjyI94.js";const J={class:"flex flex-col md:flex-row items-center"},K={class:"font-bold"},P={class:"line-clamp-5 overflow-hidden"},Z=C({__name:"index",setup(T){const w=D(),{resolve:b}=E(),o=g(()=>{const e=w.query.tag;return typeof e=="string"?[e]:e}),n=N([]),{data:r}=S("blog-posts-list",()=>{const e=A("blog");return e.order("date","DESC"),e.select("title","path","description","tags"),o.value&&e.andWhere(s=>{for(const i of o.value)s=s.where("tags","LIKE",`%"${i}"%`);return s}),e.skip(n.value.length).limit(1),e.all()}),d=q("list"),f=G(d),p=async()=>{for(;f.value&&(await z("blog-posts-list"),r.value&&r.value.length>0);)n.value.push(...r.value)};h(f,p);const x=e=>{const s=e.tags;return b({path:e.path,query:{tag:s}})};return h(o,async()=>{n.value=[],await p()}),(e,s)=>{const i=V,k=F,B=I,$=M;return m(),v("div",null,[a("h1",null,u(("computed"in e?e.computed:l(g))(()=>{var t,_;return(t=l(o))!=null&&t.includes("dev")?e.$t("devBlog"):(_=l(o))!=null&&_.includes("game")?e.$t("gameBlog"):e.$t("blog")})),1),c($,null,{default:y(()=>[a("div",{ref_key:"list",ref:d,class:"flex flex-col gap-4"},[(m(!0),v(L,null,U(l(n),t=>(m(),R(B,{key:t.path,class:"relative hover:bg-elevated"},{default:y(()=>[c(i,{to:x(t),class:"absolute inset-0"},null,8,["to"]),a("div",J,[c(k,{src:"/favicon.png",class:"w-full md:min-w-40 md:max-w-1/3"}),a("div",null,[a("h2",K,u(t.title),1),a("p",P,u(t.description),1)])])]),_:2},1024))),128))],512)]),_:1})])}}});export{Z as default};
