import{y as B,q as C,C as g,r as $,ar as N,U as h,c as v,g as s,f as c,t as u,P as l,w,d as m,F as D,a6 as E,N as L,as as q,z as U}from"./Dsf3Pgpy.js";import{_ as V}from"./C0eWRY5F.js";import{_ as F}from"./Cq7N4gpi.js";import{u as I,r as M}from"./DnaOebj0.js";import{q as R}from"./ox5_NOfd.js";import{u as S}from"./BByYwDle.js";import"./CytdAz4G.js";const j={class:"text-center font-bold"},z={class:"flex flex-col sm:flex-row gap-4"},A={class:"flex self-center sm:self-start justify-center items-center w-full max-w-40 sm:min-w-40 sm:max-w-1/3"},K={class:"font-bold mb-2"},P={class:"line-clamp-5 overflow-hidden text-sm"},Y=B({__name:"index",setup(T){const x=C(),a=g(()=>{const e=x.query.tag;return typeof e=="string"?[e]:e}),o=$([]),{data:r}=I("blog-posts-list",()=>{const e=R("blog");return e.order("date","DESC"),e.select("title","path","description","tags"),a.value&&e.andWhere(n=>{for(const i of a.value)n=n.where("tags","LIKE",`%"${i}"%`);return n}),e.skip(o.value.length).limit(1),e.all()}),f=N("list"),d=S(f),p=async()=>{for(;d.value&&(await M("blog-posts-list"),r.value&&r.value.length>0);)o.value.push(...r.value)};return h(d,p),h(a,async()=>{o.value=[],await p()}),(e,n)=>{const i=q,y=U,b=V,k=F;return m(),v("div",null,[s("h1",j,u(("computed"in e?e.computed:l(g))(()=>{var t,_;return(t=l(a))!=null&&t.includes("dev")?e.$t("devBlog"):(_=l(a))!=null&&_.includes("game")?e.$t("gameBlog"):e.$t("blog")})),1),c(k,null,{default:w(()=>[s("div",{ref_key:"list",ref:f,class:"flex flex-col gap-4"},[(m(!0),v(D,null,E(l(o),t=>(m(),L(b,{key:t.path,class:"relative hover:bg-elevated"},{default:w(()=>[c(i,{to:t.path,class:"absolute inset-0"},null,8,["to"]),s("div",z,[s("div",A,[c(y,{src:"/favicon.png"})]),s("div",null,[s("h2",K,u(t.title),1),s("p",P,u(t.description),1)])])]),_:2},1024))),128))],512)]),_:1})])}}});export{Y as default};
